webpackJsonp([1],{"+r7B":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},i=[],n={render:s,staticRenderFns:i};e.a=n},"/UxD":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"swim-table"},[a("div",{staticClass:"swim-grid"},[a("div",{staticClass:"swim-grid-header cell-container"},t._l(t.cols,function(e){return a("div",{staticClass:"swim-grid-header-column cell",class:{"swim-grid-head":!1===e.resizable},style:{width:e.width},on:{click:function(a){t.sortBy(e)}}},[a("div",{staticClass:"cell-content"},[a("div",{staticClass:"cell-title-box"},[a("span",{staticClass:"cell-title",domProps:{innerHTML:t._s(e.title)}}),t._v(" "),0!==e.sort_type?a("span",{staticClass:"ion ion-arrow-down-b rotate-able ml-2",class:{"rotate-180":2===e.sort_type}}):t._e()])])])})),t._v(" "),a("div",{staticClass:"swim-grid-content thin-scroll"},t._l(t.stages,function(e,s){return a("div",{key:s,staticClass:"content-item"},[a("div",{staticClass:"cell-container border-top"},[a("div",{staticClass:"swim-grid-content-column cell",style:{width:t.cols[0].width},on:{click:function(t){e.show=!e.show}}},[a("div",{staticClass:"cell-content"},[a("div",{staticClass:"cell-title-box"},[a("span",{staticClass:"ion toggle-stage-ion rotate-able ion-arrow-down-b mr-1",class:{"rotate-right":!1===e.show}}),t._v(" "),a("span",{staticClass:"cell-title",domProps:{innerHTML:t._s(e.title)}})])])]),t._v(" "),e.creatable?a("div",{staticClass:"swim-grid-content-column cell no-hover",attrs:{id:"createTaskBox"},on:{click:function(t){this.newTask.popover_show=!this.newTask.popover_show}}},[t._m(0,!0)]):t._e(),t._v(" "),e.creatable?a("div",{staticClass:"float-right jump-link-box cell"},[a("div",{staticClass:"cell-content"},[a("router-link",{attrs:{to:{name:"ProjectIteration",query:t.$route.query}}},[t._v("前往[迭代]规划需求\n                ")]),t._v(" "),a("span",{staticClass:"ion ion-chevron-right"})],1)]):t._e()]),t._v(" "),a("div",[0!==t.tableRows.length?a("div",{staticClass:"cell-container border-top-0 no-data-cell-container"},[t._m(1,!0)]):t._e(),t._v(" "),t._l(t.tableRows,function(s,i){return e.show?a("div",{staticClass:"cell-container border-top-0"},t._l(t.cols,function(e){return a("div",{staticClass:"swim-grid-content-column cell",class:{"swim-grid-head":!1===e.resizable},style:{width:e.width}},[a("div",{staticClass:"cell-content"},[a("div",{staticClass:"cell-title-box"},[a("span",{staticClass:"cell-title",domProps:{innerHTML:t._s(s[e.fieldName])}})])])])})):t._e()})],2)])}))])]),t._v(" "),a("b-popover",{attrs:{placement:"bottom",show:t.newTask.popover_show,target:"createTaskBox"},on:{"update:show":function(e){t.$set(t.newTask,"popover_show",e)}}},[a("div",{staticClass:"board-menu-header",attrs:{slot:"title"},slot:"title"},[a("span",[t._v("创建任务")])]),t._v(" "),a("div",{staticClass:"task-create-content"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTask.content,expression:"newTask.content"}],staticClass:"form-control",attrs:{rows:"3"},domProps:{value:t.newTask.content},on:{input:function(e){e.target.composing||t.$set(t.newTask,"content",e.target.value)}}}),t._v(" "),a("div",{staticClass:"mt-2"},[a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button"},on:{click:t.createTask}},[t._v("创建")])])])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cell-content"},[a("div",{staticClass:"cell-title-box"},[a("span",{staticClass:"cell-title"},[t._v("创建任务")]),t._v(" "),a("span",{staticClass:"ion ml-1 btn-create-task ion-android-add-circle"})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("p",[a("span",{staticClass:"ion ion-social-dropbox-outline"})]),t._v(" "),a("p",[t._v("创建新的任务开始你的工作")])])}],n={render:s,staticRenderFns:i};e.a=n},"1/oy":function(t,e){},"5Fng":function(t,e,a){"use strict";var s=a("A3YQ"),i=a("I2cn"),n=a("9YjZ"),r=a("LBpK"),o=a("955q"),c=a("611/");e.a=[{path:"/project/:project_id",component:s.a,meta:{requiresAuth:!0},children:[{name:"ProjectView",path:"",component:r.a},{name:"ProjectTask",path:"task/scrum/:task_list_id",component:o.a},{name:"ProjectDemand",path:"demand",component:i.a},{name:"ProjectDefect",path:"defect",component:n.a},{name:"ProjectIteration",path:"iteration",component:n.a},{name:"ProjectGroupChat",path:"group_chat",component:c.a}]}]},"611/":function(t,e,a){"use strict";function s(t){a("Z1l0")}var i=a("nIzV"),n=a("ATD1"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-2cb25a31",null);e.a=c.exports},"6iqW":function(t,e,a){"use strict";var s=a("VsUZ"),i=(a("TIfe"),a("NxGh"));e.a={name:"Project",components:{Loading:i.a},computed:{project:{get:function(){return this.$store.state.project},set:function(t){this.$store.dispatch("setProject",t)}}},created:function(){this.projectId=this.$route.params.project_id,this.$store.dispatch("getProjectAsync",this.projectId),this.initTaskList(),this.initTaskGroups()},data:function(){return{isLoading:!0,taskGroups:[],projectId:null,menus:[],applications:[{title:"分享",routeName:"ProjectGroupChat"},{title:"文件",routeName:"ProjectGroupChat"},{title:"日程",routeName:"ProjectGroupChat"},{title:"统计",routeName:"ProjectGroupChat"},{title:"群聊",routeName:"ProjectGroupChat"},{title:"成员",routeName:"ProjectGroupChat"}]}},methods:{initTaskList:function(){var t=this;s.a.taskList({project_id:this.projectId}).then(function(e){t.taskList=[],e.forEach(function(e){var a={_id:e._id,title:e.title,routeName:"ProjectTask",params:{project_id:e._project_id,task_list_id:e._id}};console.log(a),t.menus.push(a),t.taskList.push(e),t.isLoading=!1})})},initTaskGroups:function(){var t=this;s.a.taskGroups({project_id:this.projectId}).then(function(e){t.taskGroups=[],e.forEach(function(e){t.taskGroups.push(e)})})}}}},"7iBa":function(t,e){},"8taH":function(t,e,a){"use strict";e.a={name:"loading",props:{loading:{default:!0}}}},"955q":function(t,e,a){"use strict";function s(t){a("aa9D")}var i=a("rvD1"),n=a("qtne"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-fcb8cb6a",null);e.a=c.exports},"9YjZ":function(t,e,a){"use strict";function s(t){a("f8XH")}var i=a("P0LL"),n=a("+r7B"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-60f624cf",null);e.a=c.exports},A3YQ:function(t,e,a){"use strict";function s(t){a("ELYf")}var i=a("6iqW"),n=a("qjp7"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-2db7958e",null);e.a=c.exports},AIFQ:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ball-loading"},[a("div",{staticClass:"la-ball-pulse"},[a("div"),t._v(" "),a("div"),t._v(" "),a("div")])])}],n={render:s,staticRenderFns:i};e.a=n},ATD1:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-message-view container"},[a("div",{staticClass:"message-panel-view row"},[a("div",{staticClass:"message-panel",attrs:{"data-reactroot":""}},[a("header",{staticClass:"message-panel-header"},[a("div",{staticClass:"header-content"},[a("h4",[t._v("\n            敏捷研发模板 - 群聊\n          ")])])]),t._v(" "),a("section",{staticClass:"message-container flex-fill thin-scroll"},[a("ul",{staticClass:"message-list list-unstyled"},[a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")]),t._v(" "),a("li",{staticClass:"message-item"},[t._v("1")])]),t._v(" "),a("div",{staticClass:"place-bottom"})]),t._v(" "),a("footer",{staticClass:"message-panel-footer flex-static"},[a("button",[t._v("发送")])]),t._v(" "),a("div",{staticClass:"message-panel-mask"})])])])}],n={render:s,staticRenderFns:i};e.a=n},Bw9D:function(t,e,a){"use strict";var s=a("VsUZ"),i=a("405r"),n=a.n(i),r=a("thwq"),o=a("NxGh");e.a={name:"board-view-stage",components:{Draggable:n.a,BoardViewTask:r.a,Loading:o.a},props:{taskList:{},dragOptions:{},project:{},stage:{}},data:function(){return{isLoading:!0,tasks:[],showCreator:!1,newTask:{title:""}}},methods:{createTask:function(){var t=this,e={_project_id:"",_task_list_id:"",_stage_id:"",title:this.newTask.title,content:"",status:1};e._project_id=this.project._id,e._stage_id=this.stage._id,s.a.createTask(e).then(function(e){t.tasks.push(e)}),this.showCreator=!1},initStageTask:function(){var t=this;this.isLoading=!0,s.a.tasks({project_id:this.project._id,stage_id:this.stage._id}).then(function(e){t.tasks=[],e.forEach(function(e){t.tasks.push(e)}),t.isLoading=!1})}},created:function(){this.initStageTask()}}},D97D:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pg-login"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"text-center app-logo"},[t._v("\n      OeyTeam\n    ")]),t._v(" "),a("div",{staticClass:"row login-form"},[a("div",[a("div",{staticClass:"login-form-main"},[a("b-form",[a("b-form-group",{attrs:{id:"username","label-for":"username"}},[a("b-form-input",{attrs:{size:"lg",id:"username",type:"text",required:"",placeholder:"用户名 / 邮箱地址"},model:{value:t.user.username,callback:function(e){t.$set(t.user,"username",e)},expression:"user.username"}})],1),t._v(" "),a("b-form-group",{attrs:{id:"password","label-for":"password"}},[a("b-form-input",{attrs:{size:"lg",id:"password",classs:"input-lg",type:"password",required:"",placeholder:"密码"},model:{value:t.user.password,callback:function(e){t.$set(t.user,"password",e)},expression:"user.password"}})],1),t._v(" "),a("div",{staticClass:"text-center"},[a("b-button",{attrs:{size:"lg",block:!0,type:"button",variant:"primary"},on:{click:t.login}},[a("span",[t._v("登 录")])])],1)],1)],1),t._v(" "),a("div",{staticClass:"partner-login-main"},[a("b-button",{staticClass:"wechat-login-button",attrs:{size:"lg",block:!0,type:"button",variant:"success"},on:{click:t.loginByWeChat}},[a("span",[t._v("使用 微信 登录")]),t._v(" "),a("i")]),t._v(" "),t._m(0)],1)])])])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:"link-reg-new"},[a("span",{staticClass:"color-gary"},[t._v("还没有帐号？")]),t._v(" "),a("a",{attrs:{href:""}},[t._v("注册新帐号")])])}],n={render:s,staticRenderFns:i};e.a=n},DZtZ:function(t,e){},"Du/2":function(t,e,a){"use strict";a.d(e,"a",function(){return s}),a.d(e,"c",function(){return i}),a.d(e,"b",function(){return n});var s="SET_TASK_STAGES",i="ADD_TASK_STAGES",n="SET_PROJECT"},ELYf:function(t,e){},GJnQ:function(t,e){},GaJ8:function(t,e,a){"use strict";var s=a("cMTw"),i=a("wz8o");e.a=[{path:"/portal/login",name:"Login",component:s.a,meta:{requiresAuth:!1}},{path:"/portal/register",name:"Register",component:i.a,meta:{requiresAuth:!1}}]},I2cn:function(t,e,a){"use strict";function s(t){a("GJnQ")}var i=a("VT85"),n=a("Ih8U"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-7e0a02b9",null);e.a=c.exports},IPrH:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"hello"})},i=[],n={render:s,staticRenderFns:i};e.a=n},IcnI:function(t,e,a){"use strict";var s=a("NYxO"),i=a("7+uW"),n=a("ukYY"),r=a("mUbh"),o=a("UjVw");i.a.use(s.a);var c={project:{title:"loading"},tags:[],projects:[],user:{},taskLists:[],taskList:{},taskStages:[]},l=new s.a.Store({state:c,getters:o.a,mutations:n.a,actions:r.a});e.a=l},Id91:function(t,e){},Ih8U:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"smart-group-view fade-in"},[a("div",{staticClass:"agile-view"},[a("div",{staticClass:"sprint-panel-wrapper"}),t._v(" "),a("div",{staticClass:"agile-view-wrapper"},[a("div",{staticClass:"table-board-view"},[a("swim-table")],1)])])])])},i=[],n={render:s,staticRenderFns:i};e.a=n},J0pY:function(t,e){},Kb7L:function(t,e){},LBpK:function(t,e,a){"use strict";function s(t){a("eAdj")}var i=a("xSpp"),n=a("quzR"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-3a82d096",null);e.a=c.exports},M93x:function(t,e,a){"use strict";function s(t){a("qz/V")}var i=a("xJD8"),n=a("OUh/"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,null,null);e.a=c.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),i=a("M93x"),n=a("K/Lq"),r=a.n(n),o=a("e6fC"),c=a("qb6w"),l=(a.n(c),a("qwyH")),u=(a.n(l),a("NP2u")),d=(a.n(u),a("YaEn")),v=a("IcnI");s.a.use(r.a),s.a.use(o.a),a("hKoQ").polyfill(),a("v5o6").attach(document.body),s.a.config.productionTip=!1,new s.a({el:"#app",router:d.a,store:v.a,template:"<App/>",components:{App:i.a}}),document.body.ondrop=function(t){t.preventDefault(),t.stopPropagation()}},NP2u:function(t,e){},NxGh:function(t,e,a){"use strict";function s(t){a("7iBa")}var i=a("8taH"),n=a("AIFQ"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-0a868e1c",null);e.a=c.exports},"OUh/":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("nav",{staticClass:"navbar menu-navbar navbar-expand-md navbar-light"},[a("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("OeyTeam")]),t._v(" "),a("ul",{staticClass:"navbar-nav mr-auto"}),t._v(" "),t._m(0)],1),t._v(" "),a("div",[a("router-view")],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"navbar-nav ml-auto"},[a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[a("i",{staticClass:"ion ion-help-circled"})])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("span",{staticClass:"split-border border-left"})]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("\n          我的\n        ")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("span",{staticClass:"split-border border-left"})]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("\n          日程\n        ")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("span",{staticClass:"split-border border-left"})]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("\n          通知\n        ")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{staticClass:"nav-link",attrs:{href:"#"}},[t._v("\n          群聊\n        ")])]),t._v(" "),a("li",{staticClass:"nav-item"},[a("a",{attrs:{href:"#"}},[a("img",{staticClass:"user-head-img",attrs:{src:"/static/images/head.jpg",alt:""}})])])])}],n={render:s,staticRenderFns:i};e.a=n},Okek:function(t,e,a){"use strict";var s=a("VsUZ");e.a={name:"board-view-task",props:{task:{}},methods:{changeTaskStatus:function(t){t.status=1===t.status?0:1,s.a.updateTask(t._id,t).then(function(t){}),console.log(t)}}}},P0LL:function(t,e,a){"use strict";a("VsUZ"),a("TIfe");e.a={name:"Project",components:{},data:function(){return{}},methods:{loginByWeChat:function(){},login:function(){}}}},SyTy:function(t,e,a){"use strict";document.cookie},TIfe:function(t,e,a){"use strict";a("SyTy");e.a={setToken:function(t,e){console.log("用户登陆:"+t+",过期时间:"+e+"s"),window.localStorage.setItem("app_access_token",t)},isLogin:function(){return window.localStorage.getItem("app_access_token")},logout:function(){return console.warn("用户注销登陆"),window.localStorage.removeItem("app_access_token")},getToken:function(){var t=window.localStorage.getItem("app_access_token");return console.log("AccessToken:"+t),t}}},TeDq:function(t,e){},TwUl:function(t,e,a){"use strict";function s(t){a("TeDq")}var i=a("Bw9D"),n=a("ruZK"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,null,null);e.a=c.exports},UjVw:function(t,e,a){"use strict";e.a={}},"UvP+":function(t,e,a){"use strict";var s=a("VsUZ");e.a={data:function(){return{showCreateProjectModal:!1,isLoading:!0,tabChooseCategories:[{title:"全部",type:0,active:!0},{title:"发起的项目",type:2,active:!1},{title:"参与的项目",type:1,active:!1}],newProject:{title:"",description:"",is_smarty:1},projects:[]}},watch:{},computed:{},components:{},methods:{getMyProjects:function(){var t=this;s.a.projects().then(function(e){t.projects=[],e.projects.forEach(function(e){t.projects.push({_id:e._id,title:e.title,description:e.description,logo:e.logo,is_smarty:1,type:1,status:e.status})})})},createProject:function(){var t=this,e={title:this.newProject.title,description:this.newProject.description,type:this.newProject.view_type,template_id:0,is_smarty:this.newProject.is_smarty,logo:"/static/images/project_bg_0.png"};s.a.createProject(e).then(function(e){t.projects.push(e.project),t.showCreateProjectModal=!1})}},created:function(){this.getMyProjects()}}},VT85:function(t,e,a){"use strict";var s=(a("VsUZ"),a("TIfe"),a("axs1"));e.a={name:"ProjectDemand",components:{SwimTable:s.a},created:function(){console.log(this.$route)},data:function(){return{}},methods:{}}},VZrM:function(t,e,a){"use strict";function s(t){a("wFBg")}var i=a("UvP+"),n=a("beCz"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-3510094e",null);e.a=c.exports},VsUZ:function(t,e,a){"use strict";function s(t){var e="",a=o()(t),s=a.length;return a.forEach(function(a,i){e+=a+"="+t[a],i!==s-1&&(e+="&")}),e}var i=a("//Fk"),n=a.n(i),r=a("fZjL"),o=a.n(r),c=a("mtWM"),l=a.n(c),u=a("TIfe"),d=a("YaEn"),v={baseURL:"http://team.oeyteam.com/api/",version:"v1"},p=l.a.create({baseURL:v.baseURL,timeout:5e3,headers:{}});p.interceptors.request.use(function(t){return t.headers.Authorization="Bearer "+u.a.getToken(),t},function(t){return n.a.reject(t)}),p.interceptors.response.use(function(t){return t.data},function(t){if(t.response)switch(t.response.status){case 401:console.warn("Token失效"),u.a.logout(),d.a.replace({name:"Login"});break;case 500:console.log("网络异常")}return n.a.reject(t.response.data)});var m={portal:{login:"auth/login"},projects:{index:"projects"},tasks:{index:"tasks"},taskGroups:{index:"task_groups"},taskList:{index:"task_lists",stages:"task_stages"},user:{profile:"user/profile"}};e.a={ResCodes:{SUCCESS:1001,FAIL:1004,ERROR:1003},ApiUrls:m,login:function(t){return p.post(m.portal.login,t)},projects:function(){return p.get(m.projects.index)},project:function(t){return p.get(m.projects.index+"?"+s(t))},createProject:function(t){return p.post(m.projects.index,t)},createTask:function(t){return p.post(m.tasks.index,t)},tasks:function(t){return p.get(m.tasks.index+"?"+s(t))},updateTask:function(t,e){return p.put(m.tasks.index+"/"+t,e)},taskGroups:function(t){return p.get(m.taskGroups.index+"?"+s(t))},taskList:function(t){return p.get(m.taskList.index+"?"+s(t))},taskStages:function(t){return p.get(m.taskList.stages+"?"+s(t))},createTaskStage:function(t){return p.post(m.taskList.stages,t)},profile:function(){return p.get(m.user.profile)}}},XaUp:function(t,e){},YaEn:function(t,e,a){"use strict";var s=a("7+uW"),i=a("/ocq"),n=a("TIfe"),r=(a("IcnI"),a("VZrM")),o=a("GaJ8"),c=a("5Fng");s.a.use(i.a);var l=[{path:"/",name:"Main",component:r.a,meta:{requiresAuth:!0}}],u=new i.a({routes:l.concat(o.a).concat(c.a)});u.beforeEach(function(t,e,a){t.matched.some(function(t){return t.meta.requiresAuth})?n.a.isLogin()?a():a({path:"/portal/login",query:{redirect:t.fullPath}}):a()}),u.beforeEach(function(t,e,a){a()}),u.afterEach(function(t){}),e.a=u},Z1l0:function(t,e){},aa9D:function(t,e){},axs1:function(t,e,a){"use strict";function s(t){a("Kb7L")}var i=a("eQ1m"),n=a("/UxD"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-3b07754e",null);e.a=c.exports},beCz:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),t._v(" "),a("div",{staticClass:"project-box"},[a("i",{staticClass:"fa fa-plus"}),t._v(" "),a("p",{staticClass:"h3_title"},[t._v("企业项目")]),t._v(" "),a("b-card",{staticClass:"project-card",attrs:{"no-body":""}},[a("b-tabs",{attrs:{pills:"",card:""}},t._l(t.tabChooseCategories,function(e){return a("b-tab",{key:e.type,attrs:{title:e.title,active:e.active}},[a("div",{staticClass:"tb-content row"},[t._l(t.projects,function(s){return s.type===e.type||0===e.type?a("div",{key:s._id,staticClass:"col-4"},[a("router-link",{attrs:{to:{name:"ProjectView",params:{project_id:s._id}}}},[a("div",{staticClass:"project-detail-box",style:{backgroundImage:"url('"+s.logo+"')"}},[a("div",{staticClass:"detail"},[a("h4",{staticClass:"detail-title",domProps:{innerHTML:t._s(s.title)}}),t._v(" "),a("p",{staticClass:"detail-desc",domProps:{innerHTML:t._s(s.description)}})])])])],1):t._e()}),t._v(" "),a("div",{staticClass:"col-4"},[a("div",{staticClass:"project-detail-box create-project-box",on:{click:function(e){t.showCreateProjectModal=!0}}},[a("div",{staticClass:"detail"},[a("p",{staticClass:"text-center"},[a("i",{staticClass:"ion ion-plus-circled"})]),t._v(" "),a("h3",[t._v("创建新项目")])])])])],2)])}))],1)],1),t._v(" "),t._m(1),t._v(" "),a("div",[a("b-modal",{attrs:{id:"createProjectModal",show:"",title:"规划新项目","ok-only":""},model:{value:t.showCreateProjectModal,callback:function(e){t.showCreateProjectModal=e},expression:"showCreateProjectModal"}},[a("div",[a("div",{staticClass:"text-center mb-3 mt-1"},[a("p",[a("img",{attrs:{src:"https://dn-st.teambition.net/teambition/images/illustration@3x.2d8d2cc3.png",alt:""}})]),t._v(" "),a("small",{staticClass:"mt-2 color-gary"},[t._v("为现代化软件开发模式而生")])]),t._v(" "),a("form",[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newProject.title,expression:"newProject.title"}],staticClass:"form-control",attrs:{type:"text",name:"title",required:"",placeholder:"项目名称（必填）"},domProps:{value:t.newProject.title},on:{input:function(e){e.target.composing||t.$set(t.newProject,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newProject.description,expression:"newProject.description"}],staticClass:"form-control",attrs:{name:"desc",rows:"2",placeholder:"项目简介（选填）"},domProps:{value:t.newProject.description},on:{input:function(e){e.target.composing||t.$set(t.newProject,"description",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"viewType"}},[t._v("项目模板")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.newProject.is_smarty,expression:"newProject.is_smarty"}],staticClass:"form-control",attrs:{id:"viewType"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.newProject,"is_smarty",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"0"}},[t._v("基础模板")]),t._v(" "),a("option",{attrs:{value:"1"}},[t._v("专业模板")])])])])]),t._v(" "),a("div",{staticClass:"w-100",attrs:{slot:"modal-footer"},slot:"modal-footer"},[a("b-btn",{staticClass:"btn-block",attrs:{size:"md",variant:"primary"},on:{click:t.createProject}},[t._v("\n          完成并创建项目\n        ")])],1)])],1)])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-box",attrs:{hidden:""}},[a("i",{staticClass:"fa fa-plus"}),t._v(" "),a("p",{staticClass:"h3_title"},[t._v("个人项目")]),t._v(" "),a("div",{staticClass:"text-center trash-none"},[a("p",[a("i",{staticClass:"ion ion-social-dropbox-outline"})]),t._v(" "),a("p",[t._v("暂无个人项目")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"trash-box"},[a("p",{staticClass:"h3_title"},[t._v("项目回收站")]),t._v(" "),a("div",{staticClass:"text-center trash-none"},[a("p",[a("i",{staticClass:"ion ion-social-dropbox-outline"})]),t._v(" "),a("p",[t._v("回收站暂无项目")])])])}],n={render:s,staticRenderFns:i};e.a=n},cMTw:function(t,e,a){"use strict";function s(t){a("J0pY")}var i=a("kJJJ"),n=a("D97D"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-05058ba1",null);e.a=c.exports},eAdj:function(t,e){},eQ1m:function(t,e,a){"use strict";var s=a("VsUZ");e.a={name:"swim-table",props:{},data:function(){return{newTask:{content:"",popover_show:!0},stages:[{title:"未完成的迭代需求",creatable:!0,show:!0,status:0},{title:"已完成的迭代需求",show:!1,status:1}],stageDoing:[],stageFinish:[],tableRows:[{_id:"123412342",title:"吃饭饭",executor:"12341234",end_at:"",status:0},{_id:"123412342",title:"吃饭2饭",executor:"12341234",end_at:"",status:1}],cols:[{title:"标题",fieldName:"title",width:"180px",left:"0px",resizable:!1,sort_type:0}],tableCols:[{title:"任务ID",fieldName:"_id",width:100,resizable:!0},{title:"执行者",fieldName:"executor",width:100,resizable:!0},{title:"任务状态",fieldName:"_id",width:100,resizable:!0},{title:"迭代",fieldName:"_id",width:150,resizable:!0},{title:"Story Points",fieldName:"_id",width:150,resizable:!0},{title:"优先级",fieldName:"_id",width:150,resizable:!0},{title:"开始时间",fieldName:"_id",width:150,resizable:!0},{title:"截止时间",fieldName:"_id",width:150,resizable:!0},{title:"备注",fieldName:"_id",width:150,resizable:!0},{title:"标签",fieldName:"_id",width:150,resizable:!0},{title:"参与人员",fieldName:"_id",width:150,resizable:!0}]}},methods:{createTask:function(){this.newTask.popover_show=!1;var t={project_id:this.$route.params.project_id,content:this.newTask.content};this.newTask.content="",s.a.createTask(t).then(function(t){console.log(t)})},sortBy:function(t){this.cols.forEach(function(e){e===t?t.sort_type=1===t.sort_type?2:1:e.sort_type=0})},initCols:function(){var t=this,e=180;this.tableCols.forEach(function(a,s){var i={title:a.title,fieldName:a.fieldName,left:e+"px",width:a.width+"px",resizable:a.resizable,sort_type:0};e+=a.width,t.cols.push(i)})}},created:function(){this.initCols()}}},f8XH:function(t,e){},kJJJ:function(t,e,a){"use strict";var s=a("VsUZ"),i=a("TIfe");e.a={name:"hello",components:{},data:function(){return{user:{username:"",password:"",email:"",pass_err_count:0}}},methods:{loginByWeChat:function(){i.a.logout()},login:function(){var t=this;s.a.login(this.user).then(function(e){if(e.status_code===s.a.ResCodes.SUCCESS){i.a.setToken(e.data.access_token,e.data.expires_in-60);var a=t.$route.query.redirect;a=void 0===a?"/":a,t.$router.replace({path:a})}else alert("登陆失败")})}},created:function(){}}},mUbh:function(t,e,a){"use strict";var s=a("Xxa5"),i=a.n(s),n=a("exGp"),r=a.n(n),o=a("Du/2"),c=a("VsUZ");e.a={getUserProfile:function(){},getTaskStagesAsync:function(t,e){var a=this,s=t.commit;t.state;return r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.taskStages(e).then(function(t){s(o.a,t)}));case 1:case"end":return t.stop()}},t,a)}))()},setTaskStages:function(t,e){var a=this,s=t.commit;t.state;return r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s(o.a,e);case 1:case"end":return t.stop()}},t,a)}))()},getProjectAsync:function(t,e){var a=this,s=t.commit;return r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c.a.project({id:e}).then(function(t){null!==t.project&&s(o.b,t.project)}));case 1:case"end":return t.stop()}},t,a)}))()},addTaskStages:function(t,e){var a=this,s=t.commit;return r()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s(o.c,e);case 1:case"end":return t.stop()}},t,a)}))()},setProject:function(t,e){(0,t.commit)(o.b,e)}}},nIzV:function(t,e,a){"use strict";a("VsUZ"),a("TIfe");e.a={name:"Project",components:{},data:function(){return{}},methods:{loginByWeChat:function(){},login:function(){}}}},qb6w:function(t,e){},qjp7:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("nav",{staticClass:"navbar navbar-project-bar navbar-expand-md navbar-light"},[a("div",{staticClass:"navbar-nav mr-auto ml-auto"},[t._l(t.menus,function(e){return a("router-link",{key:e._id,staticClass:"nav-item nav-link",attrs:{"active-class":"active",to:{name:e.routeName,params:e.params},replace:""},domProps:{innerHTML:t._s(e.title)}})}),t._v(" "),t._l(t.applications,function(e,s){return a("router-link",{key:s,staticClass:"nav-item nav-link",attrs:{"active-class":"active",to:{name:e.routeName},replace:""},domProps:{innerHTML:t._s(e.title)}})})],2)]),t._v(" "),a("div",{staticClass:"project-app-view"},[t.isLoading?a("loading"):t._e(),t._v(" "),a("router-view")],1)])},i=[],n={render:s,staticRenderFns:i};e.a=n},qtne:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board-view"},[a("div",{staticClass:"board-task-view"},[a("div",{staticClass:"board-warnings"}),t._v(" "),a("draggable",{staticClass:"board-task-stages horizontal-scroll move-able",attrs:{options:t.stageDragOptions},model:{value:t.taskStages,callback:function(e){t.taskStages=e},expression:"taskStages"}},[t._l(t.taskStages,function(e){return a("board-view-stage",{key:e._id,attrs:{project:t.project,"drag-options":t.taskDragOptions,stage:e}})}),t._v(" "),a("div",{staticClass:"task-stage-creator"},[t.newStage.show?t._e():a("div",{staticClass:"creator-warp",on:{click:function(e){t.newStage.show=!0}}},[a("span",{staticClass:"ion ion-normal ion-plus mr-1"}),a("span",[t._v("新建任务阶段")])]),t._v(" "),t.newStage.show?a("div",{staticClass:"creator-warp creator-form-warp"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newStage.name,expression:"newStage.name"}],staticClass:"form-control stage-name",attrs:{type:"text",placeholder:"新建任务阶段..."},domProps:{value:t.newStage.name},on:{input:function(e){e.target.composing||t.$set(t.newStage,"name",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"action-btn-warp float-right"},[a("a",{staticClass:"btn btn-link contract-creator-handler",on:{click:function(e){t.newStage.show=!1}}},[t._v("取消")]),t._v(" "),a("a",{staticClass:"btn btn-primary submit-add",on:{click:t.createStage}},[t._v("保存")])])]):t._e()])],2)],1)])},i=[],n={render:s,staticRenderFns:i};e.a=n},quzR:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("123")]),t._v(" "),a("div",{staticClass:"row container",staticStyle:{height:"200px"}},[a("div",{staticClass:"col-4 text-center"},[a("draggable",{attrs:{options:{group:"people"}},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.myArray,callback:function(e){t.myArray=e},expression:"myArray"}},t._l(t.myArray,function(e){return a("div",{key:e.id},[t._v(t._s(e.name))])}))],1),t._v(" "),a("div",{staticClass:"col-4 text-center"},[a("draggable",{attrs:{options:{group:"people"}},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1}},model:{value:t.myArray2,callback:function(e){t.myArray2=e},expression:"myArray2"}},t._l(t.myArray2,function(e){return a("div",{key:e.id},[t._v(t._s(e.name))])}))],1)])])},i=[],n={render:s,staticRenderFns:i};e.a=n},qwyH:function(t,e){},"qz/V":function(t,e){},ruZK:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-stage"},[a("header",{staticClass:"task-stage-header ui-sortable-handle"},[a("div",{staticClass:"task-name hinted"},[a("span",{domProps:{innerHTML:t._s(t.stage.name)}}),t._v(" ·\n      "),a("span",{staticClass:"task-count",domProps:{innerHTML:t._s(t.tasks.length)}}),t._v(" "),a("i",{staticClass:"ion ion-android-arrow-dropdown-circle board-stage-menu float-right"})])]),t._v(" "),a("div",{staticClass:"task-loading"},[t.isLoading?a("loading",{attrs:{loading:t.isLoading}}):t._e()],1),t._v(" "),a("div",{staticClass:"task-stage-wrap"},[a("section",{staticClass:"stage-content thin-scroll"},[a("div",{staticClass:"stage-tasks"},[a("draggable",{staticStyle:{"min-height":"40px"},attrs:{options:t.dragOptions},model:{value:t.tasks,callback:function(e){t.tasks=e},expression:"tasks"}},t._l(t.tasks,function(t){return a("board-view-task",{key:t._id,attrs:{task:t}})}))],1),t._v(" "),a("div",{staticClass:"task task-card task-creator-card"},[t.showCreator?a("div",{staticClass:"task-creator"},[a("div",[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.newTask.title,expression:"newTask.title"}],staticClass:"task-content-input form-control",attrs:{placeholder:"任务内容"},domProps:{value:t.newTask.title},on:{input:function(e){e.target.composing||t.$set(t.newTask,"title",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"submit-set clearfix"},[a("button",{staticClass:"btn btn-primary btn-sm btn-submit",attrs:{type:"button"},on:{click:t.createTask}},[t._v("创建\n            ")])])]):t._e()])])]),t._v(" "),a("div",{staticClass:"task-creator-wrap mt-2"},[a("a",{staticClass:"task-creator-handler",on:{click:function(e){t.showCreator=!0}}},[a("i",{staticClass:"ion ion-plus-circled mr-1"}),t._v(" "),a("span",[t._v("添加任务")])])])])},i=[],n={render:s,staticRenderFns:i};e.a=n},rvD1:function(t,e,a){"use strict";var s=a("VsUZ"),i=a("405r"),n=a.n(i),r=a("TwUl");e.a={name:"ProjectTask",components:{Draggable:n.a,BoardViewStage:r.a},computed:{taskStages:{get:function(){return this.$store.state.taskStages},set:function(t){this.$store.dispatch("setTaskStages",t)}},project:function(){return this.$store.state.project}},data:function(){return{taskList:{},newStage:{name:"",show:!1},taskDragOptions:{group:"task",draggable:".task-item",ghostClass:"ghost"},stageDragOptions:{group:"stage",draggable:".task-stage"}}},methods:{createStage:function(){var t=this,e={_project_id:this.project._id,_task_list_id:this.taskList._id,name:this.newStage.name,sort:this.taskStages.length};s.a.createTaskStage(e).then(function(e){t.$store.dispatch("addTaskStages",e)})}},created:function(){this.taskList._id=this.$route.params.task_list_id,this.$store.dispatch("getTaskStagesAsync",{project_id:this.$route.params.project_id,task_list_id:this.taskList._id})}}},sWF2:function(t,e,a){"use strict";e.a={name:"hello",data:function(){return{msg:"手机 Web APP"}}}},thwq:function(t,e,a){"use strict";function s(t){a("XaUp")}var i=a("Okek"),n=a("z57+"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,null,null);e.a=c.exports},ukYY:function(t,e,a){"use strict";var s,i=a("bOdI"),n=a.n(i),r=a("Gu7T"),o=a.n(r),c=a("Du/2");e.a=(s={},n()(s,c.a,function(t,e){t.taskStages=[].concat(o()(e))}),n()(s,c.b,function(t,e){t.project=e}),n()(s,c.c,function(t,e){t.taskStages.push(e)}),s)},wFBg:function(t,e){},wz8o:function(t,e,a){"use strict";function s(t){a("DZtZ")}var i=a("sWF2"),n=a("IPrH"),r=a("VU/8"),o=s,c=r(i.a,n.a,!1,o,"data-v-d712a0ba",null);e.a=c.exports},xJD8:function(t,e,a){"use strict";e.a={data:function(){return{isLogin:!0}},components:{}}},xSpp:function(t,e,a){"use strict";var s=(a("VsUZ"),a("TIfe"),a("405r")),i=a.n(s);e.a={name:"Project",components:{Draggable:i.a},data:function(){return{myArray2:[{id:3,name:"3"},{id:4,name:"4"}],myArray:[{id:1,name:"1"},{id:2,name:"2"}]}},methods:{loginByWeChat:function(){},login:function(){}}}},"z57+":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task task-card task-item"},[t._m(0),t._v(" "),a("div",{staticClass:"task-checkbox",on:{click:function(e){t.changeTaskStatus(t.task)}}},[1===t.task.status?a("i",{staticClass:"ion ion-checkmark"}):t._e()]),t._v(" "),a("div",{staticClass:"task-content-wrapper"},[a("div",{staticClass:"task-content",domProps:{innerHTML:t._s(t.task.title)}}),t._v(" "),a("div",{staticClass:"avatar img-circle",staticStyle:{"background-image":"url('/static/images/head.jpg')"},attrs:{"data-title":"Godtoy"}})])])},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"task-priority-wrapper"},[a("div",{staticClass:"task-priority-view"},[a("div",{staticClass:"task-priority bg-priority-2"})])])}],n={render:s,staticRenderFns:i};e.a=n},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.61863e4224eaee8bac8c.js.map